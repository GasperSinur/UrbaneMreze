@model UrbaneMreze.Models.Spot

@{
    ViewBag.Title = "Podrobnosti";
}
<?php echo "test"; ?>
<div class="container-fluid">
    <div class="row">
        <div class="col-sm-6">
            <div class="row">
                <div class="col-sm-12">
                    <h4>Podrobnosti</h4>
                    <dl class="dl-horizontal">
                        <dt>
                            @Html.DisplayNameFor(model => model.SpotName)
                        </dt>

                        <dd>
                            @Html.DisplayFor(model => model.SpotName)
                        </dd>

                        <dt>
                            @Html.DisplayNameFor(model => model.Description)
                        </dt>

                        <dd>
                            @Html.DisplayFor(model => model.Description)
                        </dd>

                        <dt>
                            @Html.DisplayNameFor(model => model.DateCreated)
                        </dt>

                        <dd>
                            @Html.DisplayFor(model => model.DateCreated)
                        </dd>

                        <dt>
                            @Html.DisplayNameFor(model => model.DateModified)
                        </dt>

                        <dd>
                            @Html.DisplayFor(model => model.DateModified)
                        </dd>

                        <dt>
                            @Html.DisplayNameFor(model => model.UserCreatedID)
                        </dt>

                        <dd>
                            @Html.DisplayFor(model => model.UserCreatedID)
                        </dd>

                        <dt>
                            @Html.DisplayNameFor(model => model.UserModifiedID)
                        </dt>

                        <dd>
                            @Html.DisplayFor(model => model.UserModifiedID)
                        </dd>

                    </dl>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-6">
                    <h4>Komentarji</h4>
                </div>
            </div>
        </div>

        <div id="map" class="col-sm-6"></div>

        <script>
        var markerDetails = @Html.Raw(@ViewBag.Marker);
        function initMap() {
            var myLatlng = new google.maps.LatLng(markerDetails.lat, markerDetails.lng);
            var mapOptions = {
                center: myLatlng,
                zoom: 16,
                mapTypeId: google.maps.MapTypeId.ROADMAP
            };
            var infoWindow = new google.maps.InfoWindow();
            var map = new google.maps.Map(document.getElementById("map"), mapOptions);
            var marker = new google.maps.Marker({
                position: myLatlng,
                map: map,
                title: markerDetails.title
            });
            (function (marker, markerDetails) {
                google.maps.event.addListener(marker, "click", function (e) {
                    infoWindow.setContent(
                        "<div class='infoWindow'><span class='infoWindow-title'>" + markerDetails.title + "</span><hr/><p>" + markerDetails.description+"</p></div>"
                    );
                    infoWindow.open(map, marker);
                });
            })(marker, markerDetails);
        }
        </script>

        <script async defer
                src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCEAiYQrITQJClN12bmTuXXF4AQCkkiCRk&callback=initMap">
        </script>

    </div>
</div>